<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>The Password Game</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<style>
* { box-sizing: border-box; }

body {
  margin: 0;
  padding: 32px 16px;
  background: #000;
  color: #eaeaea;
  font-family: -apple-system, BlinkMacSystemFont, system-ui, sans-serif;
}

h1 {
  text-align: center;
  font-weight: 500;
  margin-bottom: 24px;
}

input {
  width: 100%;
  max-width: 680px;
  margin: 0 auto 28px;
  display: block;
  padding: 14px 16px;
  font-size: 17px;
  background: #000;
  color: #fff;
  border: 1px solid #333;
  outline: none;
}

#rules {
  max-width: 680px;
  margin: 0 auto;
}

.rule {
  padding: 12px 14px;
  margin-bottom: 8px;
  border: 1px solid #222;
  font-size: 14px;
}

.rule.pass {
  color: #666;
  border-color: #111;
}

.rule.fail {
  color: #fff;
  border-color: #444;
}

footer {
  text-align: center;
  margin-top: 40px;
  font-size: 12px;
  color: #555;
}
</style>
</head>
<body>

<h1>The Password Game</h1>

<input id="pw" placeholder="Enter password" autocomplete="off">

<div id="rules"></div>

<footer>Good luck.</footer>

<script>
const input = document.getElementById("pw");
const rulesDiv = document.getElementById("rules");

let fire = 10;

const rules = [
  {t:"At least 5 characters",c:p=>p.length>=5},
  {t:"Contains a number",c:p=>/\d/.test(p)},
  {t:"Contains an uppercase letter",c:p=>/[A-Z]/.test(p)},
  {t:"Contains a lowercase letter",c:p=>/[a-z]/.test(p)},
  {t:"Contains a special character",c:p=>/[^a-zA-Z0-9]/.test(p)},
  {t:"Digits add up to 10",c:p=>(p.match(/\d/g)||[]).reduce((a,b)=>a+ +b,0)===10},
  {t:"Contains a month",c:p=>/(january|february|march|april|may|june|july|august|september|october|november|december)/i.test(p)},
  {t:"Contains a Roman numeral",c:p=>/(I|V|X|L|C|D|M)/.test(p)},
  {t:"Contains an emoji",c:p=>/\p{Extended_Pictographic}/u.test(p)},
  {t:"Length is even",c:p=>p.length%2===0},
  {t:"At least three vowels",c:p=>(p.match(/[aeiou]/gi)||[]).length>=3},
  {t:"Does not contain the word 'password'",c:p=>!/password/i.test(p)},
  {t:"Contains a repeated character",c:p=>/(.)\1/.test(p)},
  {t:"Contains a prime digit",c:p=>(p.match(/\d/g)||[]).some(d=>[2,3,5,7].includes(+d))},
  {t:"Contains a weekday",c:p=>/(monday|tuesday|wednesday|thursday|friday|saturday|sunday)/i.test(p)},
  {t:"Exactly two emojis",c:p=>(p.match(/\p{Extended_Pictographic}/gu)||[]).length===2},
  {t:"Password longer than rule count",c:p=>p.length>currentRule},
  {t:"Fire must stay alive (type ðŸ”¥)",c:p=>{
    if(p.includes("ðŸ”¥")) fire=Math.min(10,fire+1);
    fire--;
    return fire>0;
  }},
  {t:"All previous rules must stay valid",c:p=>true}
];

let currentRule = 0;

function update() {
  rulesDiv.innerHTML = "";
  const p = input.value;
  let allPassed = true;

  for (let i = 0; i <= currentRule; i++) {
    const r = rules[i];
    const pass = r.c(p);

    const d = document.createElement("div");
    d.className = "rule " + (pass ? "pass" : "fail");
    d.textContent = r.t;
    rulesDiv.appendChild(d);

    if (!pass) {
      allPassed = false;
      break;
    }
  }

  if (allPassed && currentRule < rules.length - 1) {
    currentRule++;
  }
}

input.addEventListener("input", update);
update();
</script>

</body>
</html>